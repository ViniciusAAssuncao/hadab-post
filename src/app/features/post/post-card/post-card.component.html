<article 
  (click)="onPostClick()"
  class="p-4 flex space-x-4 hover:bg-black/5 dark:hover:bg-white/5 transition-colors duration-200 cursor-pointer"
  [class.border-b]="!isLast"
  [class.border-gray-200]="!isLast"
  [class.dark:border-gray-800]="!isLast"
>
  <div class="flex-shrink-0">
    <img 
      [src]="post.author.avatarUrl || '/assets/default-avatar.png'"
      [alt]="post.author.name"
      class="w-10 h-10 rounded-full object-cover"
    >
  </div>

  <div class="flex-1 min-w-0">
    <app-post-author [post]="post"></app-post-author>

    <div class="mt-1 space-y-2 text-gray-800 dark:text-gray-200">
      <h2 class="font-bold text-black dark:text-white text-base leading-tight">
        {{ post.title }}
      </h2>
      <p *ngIf="post.content" class="text-gray-600 dark:text-gray-400 text-sm leading-relaxed line-clamp-3">
        {{ post.content }}
      </p>
    </div>

    <div *ngIf="post.imageUrl" class="mt-3 relative rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden">
      <img 
        [src]="post.imageUrl" 
        [alt]="post.title"
        class="w-full h-auto object-cover"
        loading="lazy"
      >
    </div>

    <div class="mt-4">
      <app-post-stats 
        [stats]="post.stats" 
        [postId]="post.id"
        (interaction)="onInteraction($event)"
      ></app-post-stats>
    </div>
  </div>
</article>